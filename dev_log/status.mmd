%%{init: {'theme':'base', 'themeVariables': {'primaryColor': '#ffffff', 'primaryTextColor': '#333', 'primaryBorderColor': '#333', 'lineColor': '#333', 'secondaryColor': '#f0f0f0', 'tertiaryColor': '#f0f0f0', 'background': '#e8e8e8', 'mainBkg': '#e8e8e8', 'secondBkg': '#e8e8e8'}}}%%
flowchart LR
    U00["00: MMDD Principles"]
    U01["01_main: Project Plan"]
    
    %% Frontend Development Branch
    U002_001["002_frontend_001:<br/>Frontend Setup"]
    U002_002["002_frontend_002:<br/>Chat UI Foundation"]
    U002_003["002_frontend_003:<br/>Topic Conversations"]
    U002_004["002_frontend_004:<br/>Smooth Streaming"]
    U002_005["002_frontend_005:<br/>Left Panel Personalization"]
    U002_006["002_frontend_006:<br/>Clean Interface"]
    U002_007["002_frontend_007:<br/>Unified About Topic"]
    U002_008["002_frontend_008:<br/>Markdown Rendering"]
    U002_009["002_frontend_009:<br/>New Conversation Styling"]
    U002_010["002_frontend_010:<br/>Claude Input & UI Config"]
    U002_011["002_theming_011:<br/>Remove Lines & Theme Flash"]
    
    %% Content System Branch
    U04_001["04_content_001:<br/>File-based Content System"]
    U04_002["004_content_002:<br/>External Football Content Integration"]
    
    %% Theming Branch
    U03_001["03_theming_001:<br/>Claude Colors"]
    
    %% Backend Development Branch
    U04["04_repository:<br/>Bootstrap Repo"]
    U05["05_api-chat:<br/>Chat Lambda"]
    U06["06_api-contact:<br/>Contact Lambda"]
    U07["07_human-gate:<br/>Bot Check"]
    
    %% Infrastructure Branch
    U08["08_infra:<br/>Infrastructure"]
    U09["09_ci-cd:<br/>CI/CD Pipeline"]
    
    %% Final Polish Branch
    U10["10_article:<br/>AWS Article"]
    U11["11_polish:<br/>Polish & Performance"]

    %% Dependencies
    U00 --> U01
    U01 --> U002_001
    U002_001 --> U002_002
    U002_002 --> U002_003
    U002_003 --> U002_004
    U002_004 --> U002_005
    U002_005 --> U002_006
    U002_006 --> U002_007
    U002_007 --> U002_008
    U002_008 --> U002_009
    U002_009 --> U002_010
    U002_010 --> U04_001
    U04_001 --> U04_002
    U04_002 --> U03_001
    U03_001 --> U002_011
    
    U01 --> U04
    U04 --> U05
    U04 --> U06
    U04 --> U07
    U05 --> U08
    U06 --> U08
    U07 --> U08
    U08 --> U09
    
    U002_011 --> U09
    U09 --> U10
    U09 --> U11

    %% Color Classifications
    classDef completed fill:#90EE90,stroke:#2E7D32,stroke-width:3px,color:#000
    classDef inProgress fill:#FFD700,stroke:#F57F17,stroke-width:3px,color:#000
    classDef planned fill:#87CEEB,stroke:#1976D2,stroke-width:2px,color:#000
    classDef blocked fill:#FFB6C1,stroke:#D32F2F,stroke-width:2px,color:#000

    %% Apply Classifications - Updated Status
    class U00,U01,U002_001,U002_002,U002_003,U002_004,U002_005,U002_006,U002_007,U002_008,U002_009,U002_010,U04_001,U04_002,U03_001,U002_011 completed
    class U04,U05,U06,U07,U08,U09,U10,U11 planned