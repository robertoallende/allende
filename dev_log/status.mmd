%%{init: {'theme':'base', 'themeVariables': {'primaryColor': '#ffffff', 'primaryTextColor': '#333', 'primaryBorderColor': '#333', 'lineColor': '#333', 'secondaryColor': '#f0f0f0', 'tertiaryColor': '#f0f0f0', 'background': '#e8e8e8', 'mainBkg': '#e8e8e8', 'secondBkg': '#e8e8e8'}}}%%
flowchart LR
    U00["00: MMDD Principles"]
    U01["01_main: Project Plan"]
    
    %% Frontend Development Branch
    U002_001["002_frontend_001:<br/>Frontend Setup"]
    U002_002["002_frontend_002:<br/>Chat UI Foundation"]
    U002_003["002_frontend_003:<br/>Topic Conversations"]
    U002_004["002_frontend_004:<br/>Smooth Streaming"]
    U002_005["002_frontend_005:<br/>Left Panel Personalization"]
    U002_006["002_frontend_006:<br/>Clean Interface"]
    
    %% Backend Development Branch
    U03["03_repository:<br/>Bootstrap Repo"]
    U04["04_api-chat:<br/>Chat Lambda"]
    U05["05_api-contact:<br/>Contact Lambda"]
    U06["06_human-gate:<br/>Bot Check"]
    
    %% Infrastructure Branch
    U07["07_infra:<br/>Infrastructure"]
    U08["08_ci-cd:<br/>CI/CD Pipeline"]
    
    %% Final Polish Branch
    U09["09_article:<br/>AWS Article"]
    U10["10_polish:<br/>Polish & Performance"]

    %% Dependencies
    U00 --> U01
    U01 --> U002_001
    U002_001 --> U002_002
    U002_002 --> U002_003
    U002_003 --> U002_004
    U002_004 --> U002_005
    U002_005 --> U002_006
    
    U01 --> U03
    U03 --> U04
    U03 --> U05
    U03 --> U06
    U04 --> U07
    U05 --> U07
    U06 --> U07
    U07 --> U08
    
    U002_006 --> U08
    U08 --> U09
    U08 --> U10

    %% Color Classifications
    classDef completed fill:#90EE90,stroke:#2E7D32,stroke-width:3px,color:#000
    classDef inProgress fill:#FFD700,stroke:#F57F17,stroke-width:3px,color:#000
    classDef planned fill:#87CEEB,stroke:#1976D2,stroke-width:2px,color:#000
    classDef blocked fill:#FFB6C1,stroke:#D32F2F,stroke-width:2px,color:#000

    %% Apply Classifications
    class U00,U01,U002_001,U002_002,U002_003,U002_004,U002_005,U002_006 completed
    class U03,U04,U05,U06,U07,U08,U09,U10 planned